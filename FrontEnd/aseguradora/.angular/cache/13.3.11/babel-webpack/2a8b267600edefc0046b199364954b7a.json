{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\leone\\\\source\\\\repos\\\\Consultorio_Seguros\\\\Aseguradora_Consulta\\\\Front\\\\aseguradora\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/csv.services.service\";\nimport * as i2 from \"src/app/services/asegurados.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\n\nfunction MasivoAseguradoComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function MasivoAseguradoComponent_div_13_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.limpiar();\n    });\n    i0.ɵɵtext(2, \"Limpiar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 15);\n    i0.ɵɵlistener(\"change\", function MasivoAseguradoComponent_div_13_Template_button_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.Guardar($event);\n    });\n    i0.ɵɵtext(4, \"Guardar\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction MasivoAseguradoComponent_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const asegurado_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asegurado_r6.cedula);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asegurado_r6.nombre_cliente);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asegurado_r6.fecha_creacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asegurado_r6.telefono);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asegurado_r6.edad);\n  }\n}\n\nexport class MasivoAseguradoComponent {\n  constructor(_csvService, servAsegurado, formBuilder, router, routeData) {\n    this._csvService = _csvService;\n    this.servAsegurado = servAsegurado;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.routeData = routeData;\n    this.asegurados = [];\n    this.importedData = [];\n  }\n\n  ngOnInit() {}\n\n  importDataFromCSV(event) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let fileContent = yield _this.getTextFromFile(event);\n      console.log(fileContent);\n      _this.importedData = _this._csvService.importDataFromCSV(fileContent);\n      _this.asegurados = _this.importedData;\n      console.log(_this.asegurados);\n    })();\n  }\n\n  getTextFromFile(event) {\n    return _asyncToGenerator(function* () {\n      const file = event.target.files[0];\n      let fileContent = yield file.text();\n      return fileContent;\n    })();\n  }\n\n  Guardar() {\n    this.servAsegurado.saveAseguradosMasivamente(this.asegurados).subscribe({\n      next: response => {\n        console.log('Asegurados guardados con éxito');\n        this.router.navigate(['/listaAsegurado']);\n      },\n      error: error => {\n        console.error('Error al guardar asegurados masivamente', error);\n      }\n    });\n  }\n\n  limpiar() {\n    this.asegurados = [];\n  }\n\n}\n\nMasivoAseguradoComponent.ɵfac = function MasivoAseguradoComponent_Factory(t) {\n  return new (t || MasivoAseguradoComponent)(i0.ɵɵdirectiveInject(i1.CsvService), i0.ɵɵdirectiveInject(i2.AseguradosService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\n\nMasivoAseguradoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MasivoAseguradoComponent,\n  selectors: [[\"app-masivo-asegurado\"]],\n  decls: 29,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"text-center\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-prepend\"], [\"id\", \"inputGroupFileAddon01\", 1, \"input-group-text\"], [1, \"custom-file\"], [\"aria-describedby\", \"inputGroupFileAddon01\", \"id\", \"inputGroupFile01\", \"type\", \"file\", \"hidden\", \"true\", 1, \"file-input\", 3, \"accept\", \"change\"], [\"fileUploadSimple\", \"\"], [\"for\", \"inputGroupFile01\", 1, \"custom-file-label\"], [\"class\", \"d-flex justify-content-around\", 4, \"ngIf\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-around\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"change\"]],\n  template: function MasivoAseguradoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n      i0.ɵɵtext(3, \"Carga masiva de Asegurados\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"span\", 5);\n      i0.ɵɵtext(7, \"Cargar CSV\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"input\", 7, 8);\n      i0.ɵɵlistener(\"change\", function MasivoAseguradoComponent_Template_input_change_9_listener($event) {\n        return ctx.importDataFromCSV($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"label\", 9);\n      i0.ɵɵtext(12, \"Carga Archivo\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(13, MasivoAseguradoComponent_div_13_Template, 5, 0, \"div\", 10);\n      i0.ɵɵelementStart(14, \"table\", 11)(15, \"thead\")(16, \"tr\")(17, \"th\");\n      i0.ɵɵtext(18, \"C\\u00E9dula\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Fecha de Creaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Tel\\u00E9fono\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\");\n      i0.ɵɵtext(26, \"Edad\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"tbody\");\n      i0.ɵɵtemplate(28, MasivoAseguradoComponent_tr_28_Template, 11, 5, \"tr\", 12);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"accept\", \".csv\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.asegurados.length > 0);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.asegurados);\n    }\n  },\n  directives: [i5.NgIf, i5.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtYXNpdm8tYXNlZ3VyYWRvLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/leone/source/repos/Consultorio_Seguros/Aseguradora_Consulta/Front/aseguradora/src/app/component/masivo-asegurado/masivo-asegurado.component.ts"],"names":["i0","i1","i2","i3","i4","i5","MasivoAseguradoComponent_div_13_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","MasivoAseguradoComponent_div_13_Template_button_click_1_listener","ɵɵrestoreView","ctx_r3","ɵɵnextContext","limpiar","ɵɵtext","ɵɵelementEnd","MasivoAseguradoComponent_div_13_Template_button_change_3_listener","$event","ctx_r5","Guardar","MasivoAseguradoComponent_tr_28_Template","asegurado_r6","$implicit","ɵɵadvance","ɵɵtextInterpolate","cedula","nombre_cliente","fecha_creacion","telefono","edad","MasivoAseguradoComponent","constructor","_csvService","servAsegurado","formBuilder","router","routeData","asegurados","importedData","ngOnInit","importDataFromCSV","event","fileContent","getTextFromFile","console","log","file","target","files","text","saveAseguradosMasivamente","subscribe","next","response","navigate","error","ɵfac","MasivoAseguradoComponent_Factory","t","ɵɵdirectiveInject","CsvService","AseguradosService","FormBuilder","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","MasivoAseguradoComponent_Template","MasivoAseguradoComponent_Template_input_change_9_listener","ɵɵtemplate","ɵɵproperty","length","directives","NgIf","NgForOf","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/csv.services.service\";\r\nimport * as i2 from \"src/app/services/asegurados.service\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/common\";\r\nfunction MasivoAseguradoComponent_div_13_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"button\", 14);\r\n    i0.ɵɵlistener(\"click\", function MasivoAseguradoComponent_div_13_Template_button_click_1_listener() { i0.ɵɵrestoreView(_r4); const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.limpiar(); });\r\n    i0.ɵɵtext(2, \"Limpiar\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"button\", 15);\r\n    i0.ɵɵlistener(\"change\", function MasivoAseguradoComponent_div_13_Template_button_change_3_listener($event) { i0.ɵɵrestoreView(_r4); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.Guardar($event); });\r\n    i0.ɵɵtext(4, \"Guardar\");\r\n    i0.ɵɵelementEnd()();\r\n} }\r\nfunction MasivoAseguradoComponent_tr_28_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const asegurado_r6 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asegurado_r6.cedula);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asegurado_r6.nombre_cliente);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asegurado_r6.fecha_creacion);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asegurado_r6.telefono);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asegurado_r6.edad);\r\n} }\r\nexport class MasivoAseguradoComponent {\r\n    constructor(_csvService, servAsegurado, formBuilder, router, routeData) {\r\n        this._csvService = _csvService;\r\n        this.servAsegurado = servAsegurado;\r\n        this.formBuilder = formBuilder;\r\n        this.router = router;\r\n        this.routeData = routeData;\r\n        this.asegurados = [];\r\n        this.importedData = [];\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    async importDataFromCSV(event) {\r\n        let fileContent = await this.getTextFromFile(event);\r\n        console.log(fileContent);\r\n        this.importedData = this._csvService.importDataFromCSV(fileContent);\r\n        this.asegurados = this.importedData;\r\n        console.log(this.asegurados);\r\n    }\r\n    async getTextFromFile(event) {\r\n        const file = event.target.files[0];\r\n        let fileContent = await file.text();\r\n        return fileContent;\r\n    }\r\n    Guardar() {\r\n        this.servAsegurado.saveAseguradosMasivamente(this.asegurados).subscribe({\r\n            next: (response) => {\r\n                console.log('Asegurados guardados con éxito');\r\n                this.router.navigate(['/listaAsegurado']);\r\n            },\r\n            error: (error) => {\r\n                console.error('Error al guardar asegurados masivamente', error);\r\n            }\r\n        });\r\n    }\r\n    limpiar() {\r\n        this.asegurados = [];\r\n    }\r\n}\r\nMasivoAseguradoComponent.ɵfac = function MasivoAseguradoComponent_Factory(t) { return new (t || MasivoAseguradoComponent)(i0.ɵɵdirectiveInject(i1.CsvService), i0.ɵɵdirectiveInject(i2.AseguradosService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute)); };\r\nMasivoAseguradoComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MasivoAseguradoComponent, selectors: [[\"app-masivo-asegurado\"]], decls: 29, vars: 3, consts: [[1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"text-center\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-prepend\"], [\"id\", \"inputGroupFileAddon01\", 1, \"input-group-text\"], [1, \"custom-file\"], [\"aria-describedby\", \"inputGroupFileAddon01\", \"id\", \"inputGroupFile01\", \"type\", \"file\", \"hidden\", \"true\", 1, \"file-input\", 3, \"accept\", \"change\"], [\"fileUploadSimple\", \"\"], [\"for\", \"inputGroupFile01\", 1, \"custom-file-label\"], [\"class\", \"d-flex justify-content-around\", 4, \"ngIf\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-around\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"change\"]], template: function MasivoAseguradoComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\r\n        i0.ɵɵtext(3, \"Carga masiva de Asegurados\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"span\", 5);\r\n        i0.ɵɵtext(7, \"Cargar CSV\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"input\", 7, 8);\r\n        i0.ɵɵlistener(\"change\", function MasivoAseguradoComponent_Template_input_change_9_listener($event) { return ctx.importDataFromCSV($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"label\", 9);\r\n        i0.ɵɵtext(12, \"Carga Archivo\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵtemplate(13, MasivoAseguradoComponent_div_13_Template, 5, 0, \"div\", 10);\r\n        i0.ɵɵelementStart(14, \"table\", 11)(15, \"thead\")(16, \"tr\")(17, \"th\");\r\n        i0.ɵɵtext(18, \"C\\u00E9dula\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"th\");\r\n        i0.ɵɵtext(20, \"Nombre\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"th\");\r\n        i0.ɵɵtext(22, \"Fecha de Creaci\\u00F3n\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"th\");\r\n        i0.ɵɵtext(24, \"Tel\\u00E9fono\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(25, \"th\");\r\n        i0.ɵɵtext(26, \"Edad\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(27, \"tbody\");\r\n        i0.ɵɵtemplate(28, MasivoAseguradoComponent_tr_28_Template, 11, 5, \"tr\", 12);\r\n        i0.ɵɵelementEnd()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"accept\", \".csv\");\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.asegurados.length > 0);\r\n        i0.ɵɵadvance(15);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.asegurados);\r\n    } }, directives: [i5.NgIf, i5.NgForOf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtYXNpdm8tYXNlZ3VyYWRvLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}