{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\leone\\\\source\\\\repos\\\\Consultorio_Seguros\\\\Aseguradora_Consulta\\\\Front\\\\aseguradora\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MasivoAseguradoComponent = class MasivoAseguradoComponent {\n  constructor(_csvService, servAsegurado, formBuilder, router, routeData) {\n    this._csvService = _csvService;\n    this.servAsegurado = servAsegurado;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.routeData = routeData;\n    this.asegurados = [];\n    this.importedData = [];\n  }\n\n  ngOnInit() {}\n\n  importDataFromCSV(event) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let fileContent = yield _this.getTextFromFile(event);\n      console.log(fileContent);\n      _this.importedData = _this._csvService.importDataFromCSV(fileContent);\n      _this.asegurados = _this.importedData;\n      console.log(_this.asegurados);\n    })();\n  }\n\n  getTextFromFile(event) {\n    return _asyncToGenerator(function* () {\n      const file = event.target.files[0];\n      let fileContent = yield file.text();\n      return fileContent;\n    })();\n  }\n\n  Guardar(event) {\n    console.log(this.asegurados);\n    this.servAsegurado.saveAseguradosMasivamente(this.asegurados).subscribe({\n      next: response => {\n        console.log('Asegurados guardados con éxito');\n        this.router.navigate(['/listaAsegurado']);\n      },\n      error: error => {\n        console.error('Error al guardar asegurados masivamente', error);\n      }\n    });\n  }\n\n  limpiar() {\n    this.asegurados = [];\n  }\n\n};\nMasivoAseguradoComponent = __decorate([Component({\n  selector: 'app-masivo-asegurado',\n  templateUrl: './masivo-asegurado.component.html',\n  styleUrls: ['./masivo-asegurado.component.css']\n})], MasivoAseguradoComponent);\nexport { MasivoAseguradoComponent };","map":{"version":3,"sources":["C:/Users/leone/source/repos/Consultorio_Seguros/Aseguradora_Consulta/Front/aseguradora/src/app/component/masivo-asegurado/masivo-asegurado.component.ts"],"names":["__decorate","Component","MasivoAseguradoComponent","constructor","_csvService","servAsegurado","formBuilder","router","routeData","asegurados","importedData","ngOnInit","importDataFromCSV","event","fileContent","getTextFromFile","console","log","file","target","files","text","Guardar","saveAseguradosMasivamente","subscribe","next","response","navigate","error","limpiar","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,IAAIC,wBAAwB,GAAG,MAAMA,wBAAN,CAA+B;AAC1DC,EAAAA,WAAW,CAACC,WAAD,EAAcC,aAAd,EAA6BC,WAA7B,EAA0CC,MAA1C,EAAkDC,SAAlD,EAA6D;AACpE,SAAKJ,WAAL,GAAmBA,WAAnB;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACH;;AACDC,EAAAA,QAAQ,GAAG,CACV;;AACKC,EAAAA,iBAAiB,CAACC,KAAD,EAAQ;AAAA;;AAAA;AAC3B,UAAIC,WAAW,SAAS,KAAI,CAACC,eAAL,CAAqBF,KAArB,CAAxB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACA,MAAA,KAAI,CAACJ,YAAL,GAAoB,KAAI,CAACN,WAAL,CAAiBQ,iBAAjB,CAAmCE,WAAnC,CAApB;AACA,MAAA,KAAI,CAACL,UAAL,GAAkB,KAAI,CAACC,YAAvB;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACR,UAAjB;AAL2B;AAM9B;;AACKM,EAAAA,eAAe,CAACF,KAAD,EAAQ;AAAA;AACzB,YAAMK,IAAI,GAAGL,KAAK,CAACM,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb;AACA,UAAIN,WAAW,SAASI,IAAI,CAACG,IAAL,EAAxB;AACA,aAAOP,WAAP;AAHyB;AAI5B;;AACDQ,EAAAA,OAAO,CAACT,KAAD,EAAQ;AACXG,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,UAAjB;AACA,SAAKJ,aAAL,CAAmBkB,yBAAnB,CAA6C,KAAKd,UAAlD,EAA8De,SAA9D,CAAwE;AACpEC,MAAAA,IAAI,EAAGC,QAAD,IAAc;AAChBV,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,aAAKV,MAAL,CAAYoB,QAAZ,CAAqB,CAAC,iBAAD,CAArB;AACH,OAJmE;AAKpEC,MAAAA,KAAK,EAAGA,KAAD,IAAW;AACdZ,QAAAA,OAAO,CAACY,KAAR,CAAc,yCAAd,EAAyDA,KAAzD;AACH;AAPmE,KAAxE;AASH;;AACDC,EAAAA,OAAO,GAAG;AACN,SAAKpB,UAAL,GAAkB,EAAlB;AACH;;AAtCyD,CAA9D;AAwCAP,wBAAwB,GAAGF,UAAU,CAAC,CAClCC,SAAS,CAAC;AACN6B,EAAAA,QAAQ,EAAE,sBADJ;AAENC,EAAAA,WAAW,EAAE,mCAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,kCAAD;AAHL,CAAD,CADyB,CAAD,EAMlC9B,wBANkC,CAArC;AAOA,SAASA,wBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet MasivoAseguradoComponent = class MasivoAseguradoComponent {\r\n    constructor(_csvService, servAsegurado, formBuilder, router, routeData) {\r\n        this._csvService = _csvService;\r\n        this.servAsegurado = servAsegurado;\r\n        this.formBuilder = formBuilder;\r\n        this.router = router;\r\n        this.routeData = routeData;\r\n        this.asegurados = [];\r\n        this.importedData = [];\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    async importDataFromCSV(event) {\r\n        let fileContent = await this.getTextFromFile(event);\r\n        console.log(fileContent);\r\n        this.importedData = this._csvService.importDataFromCSV(fileContent);\r\n        this.asegurados = this.importedData;\r\n        console.log(this.asegurados);\r\n    }\r\n    async getTextFromFile(event) {\r\n        const file = event.target.files[0];\r\n        let fileContent = await file.text();\r\n        return fileContent;\r\n    }\r\n    Guardar(event) {\r\n        console.log(this.asegurados);\r\n        this.servAsegurado.saveAseguradosMasivamente(this.asegurados).subscribe({\r\n            next: (response) => {\r\n                console.log('Asegurados guardados con éxito');\r\n                this.router.navigate(['/listaAsegurado']);\r\n            },\r\n            error: (error) => {\r\n                console.error('Error al guardar asegurados masivamente', error);\r\n            }\r\n        });\r\n    }\r\n    limpiar() {\r\n        this.asegurados = [];\r\n    }\r\n};\r\nMasivoAseguradoComponent = __decorate([\r\n    Component({\r\n        selector: 'app-masivo-asegurado',\r\n        templateUrl: './masivo-asegurado.component.html',\r\n        styleUrls: ['./masivo-asegurado.component.css']\r\n    })\r\n], MasivoAseguradoComponent);\r\nexport { MasivoAseguradoComponent };\r\n"]},"metadata":{},"sourceType":"module"}